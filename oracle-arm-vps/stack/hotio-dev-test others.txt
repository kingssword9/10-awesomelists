######################################################################################
######################################################################################
#DOCKER STACK START#
#v:1.0
##


  #####################################other###################################################
  # organizr:
  #   image: ghcr.io/organizr/organizr:latest #master?
  #   container_name: organizr
  #   environment:
  #     - PUID=1000
  #     - PGID=1000
  #     - UMASK=002
  #     - TZ=Europe/Amsterdam
  #   volumes:
  #     - /media/localconfig/organizr:/config
  #   ports:
  #     - 9983:80
  #   restart: unless-stopped

  #####################################################homer###########################################
  homer:
    image: b4bz/homer
    #To build from source, comment previous line and uncomment below
    #build: .
    container_name: homer
    volumes:
      - /media/localconfig/homer:/www/assets
    ports:
      - 8240:8080
    environment:
      - UID=1000
      - GID=1000
      - UMASK=002
      - TZ=Europe/Amsterdam
    restart: unless-stopped

    #####################################linuxserver###################################################

  heimdall:
    image: lscr.io/linuxserver/heimdall
    container_name: heimdall
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Amsterdam
    volumes:
      - /media/localconfig/heimdall:/config
    ports:
      - 8010:80 #
      - 4433:443 #
    restart: unless-stopped

  
    # ##########################bazarr##############################################################
    # #update to hotdev version OLD
    # bazarr-linux:
    #   image: lscr.io/linuxserver/bazarr
    #   container_name: bazarr-linux
    #   environment:
    #     - PUID=1000
    #     - PGID=1000
    #     - TZ=Europe/Amsterdam
    #   volumes:
    #     - /media/localconfig/bazarr/config:/config
    #     - /media/plexmedia:/storage # hardlinks would be possible with this. requires settings in bazarr | remove links below then
    #     - /media/plexmedia/movies:/movies #optional
    #     - /media/plexmedia/series:/tv #optional
    #     - /media/plexmedia/anime:/anime #optional
    #   ports:
    #     - 6768:6767 #port changed
    #   restart: unless-stopped
    #   networks:
    #     - arr-network

  
    ##########################bazarr##############################################################
    #not updated yet to hotio
  radarr:
    container_name: radarr
    environment:
      - PGID=1000
      - PUID=1000
      - TZ=Europe/Amsterdam
      - UMASK=002
      - PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
      - HOME=/root
      - LANGUAGE=en_US.UTF-8
      - LANG=en_US.UTF-8
      - TERM=xterm
      - XDG_CONFIG_HOME=/config/xdg
    image: ghcr.io/linuxserver/radarr:latest
    ports:
      - 7878:7878/tcp
    restart: unless-stopped
    volumes:
      - /media/localconfig/radarr:/config
      - /etc/localtime:/etc/localtime:ro
      - /media/plexmedia:/storage
    networks:
      - arr-network

  #####################others#########################################
    #---------------------------------------------nginx
    #https://www.the-digital-life.com/nginx-proxy-manager/
  nginx:
    image: "jc21/nginx-proxy-manager:latest"
    ports:
      - "80:80"
      - "81:81"
      - "443:443"
    environment:
      DB_MYSQL_HOST: "db"
      DB_MYSQL_PORT: 3306
      DB_MYSQL_USER: "npm"
      DB_MYSQL_PASSWORD: "npm"
      DB_MYSQL_NAME: "npm"
      # Uncomment this if IPv6 is not enabled on your host
      # DISABLE_IPV6: 'true'
    volumes:
      - /media/localconfig/nginx-proxy-manager/data:/data
      - /media/localconfig/nginx-proxy-manager/letsencrypt:/etc/letsencrypt
    depends_on:
      - db

  db: #nginx only
    image: "jc21/mariadb-aria:latest"
    environment:
      MYSQL_ROOT_PASSWORD: "npm"
      MYSQL_DATABASE: "npm"
      MYSQL_USER: "npm"
      MYSQL_PASSWORD: "npm"
    volumes:
      - /media/localconfig/nginx-proxy-manager/mysql:/var/lib/mysql




    ##########################watchtower##############################################################
  watchtower:
    image: containrrr/watchtower
    container_name: watchtower-updater
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock

#######network mapping external###########
networks:
  arr-network:
    external: true #true means that this network has been created externally before starting this stack

#END OF FILE#
######################################################################################
######################################################################################
######################################################################################
